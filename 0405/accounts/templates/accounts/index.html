{% extends 'accounts/base.html' %}

{% block body %}
<div class="container m-auto mt-5 w-50">
  <h2 class="text-center">{{ user }}</h2>
  <div class="mt-3">
    {% if request.user.is_authenticated %}
    <div class="d-flex justify-content-center">
      <form action="{% url 'accounts:logout' %}" method="POST">
        {% csrf_token %}
        <input type="submit" class="btn btn-outline-warning" value="로그아웃">
      </form>
      <a href="{% url 'accounts:update' %}" class="btn btn-outline-success mx-3">정보수정</a>
      <form action="{% url 'accounts:delete' %}" method="POST">
        {% csrf_token %}
        <input type="submit" class="btn btn-outline-danger" value="탈퇴">
      </form>
    </div>
    <div class="card mt-3 m-auto" style="width: 24rem;">
      <div class="card-body">
        <table class="table">
          <tbody>
            <tr>
              <th scope="row">username</th>
              <td>{{ user.username }}</td>
            </tr>
            <tr>
              <th scope="row">email</th>
              <td>{{ user.email }}</td>
            </tr>
            <tr>
              <th scope="row">first name</th>
              <td>{{ user.first_name }}</td>
            </tr>
            <tr>
              <th scope="row">last name</th>
              <td>{{ user.last_name }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    {% else %}
    <div class="d-flex justify-content-center">
    <a href="{% url 'accounts:login' %}" class="btn btn-outline-primary me-3">로그인</a>
    <a href="{% url 'accounts:signup' %}" class="btn btn-outline-success">가입</a>
    </div>
    {% endif %}
  </div>
</div>
{% endblock body %}